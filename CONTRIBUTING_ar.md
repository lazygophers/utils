# دليل المساهمة

مرحباً بك في المساهمة في مشروع LazyGophers Utils! نحن نقدر بشدة كل مساهمة من المجتمع.

[![Contributors](https://img.shields.io/badge/Contributors-Welcome-brightgreen.svg)](#كيفية-المساهمة)
[![Code Style](https://img.shields.io/badge/Code%20Style-Go%20Standard-blue.svg)](#معايير-الكود)

## 🤝 كيفية المساهمة

### أنواع المساهمات

نرحب بالأنواع التالية من المساهمات:

- 🐛 **إصلاح الأخطاء** - إصلاح المشاكل المعروفة
- ✨ **ميزات جديدة** - إضافة وظائف أو وحدات مفيدة جديدة
- 📚 **تحسينات التوثيق** - تحسين التوثيق، إضافة أمثلة
- 🎨 **تحسين الكود** - تحسين الأداء، إعادة البناء
- 🧪 **تحسينات الاختبار** - زيادة تغطية الاختبار، إصلاح مشاكل الاختبار
- 🌐 **التدويل** - إضافة دعم متعدد اللغات

### عملية المساهمة

#### 1. التحضير

**نسخ المشروع**
```bash
# 1. انسخ هذا المشروع إلى حساب GitHub الخاص بك
# 2. استنسخ نسختك محلياً
git clone https://github.com/اسم_المستخدم_الخاص_بك/utils.git
cd utils

# 3. أضف المشروع الأصلي كمستودع مصدر
git remote add upstream https://github.com/lazygophers/utils.git

# 4. أنشئ فرع ميزة جديد
git checkout -b feature/your-awesome-feature
```

**إعداد بيئة التطوير**
```bash
# تثبيت التبعيات
go mod tidy

# التحقق من البيئة
go version  # يتطلب Go 1.24.0+
go test ./... # التأكد من نجاح جميع الاختبارات
```

#### 2. مرحلة التطوير

**كتابة الكود**
- اتبع [معايير الكود](#معايير-الكود)
- اكتب حالات اختبار للميزات الجديدة
- تأكد من عدم انخفاض تغطية الاختبار عن المستوى الحالي
- أضف تعليقات التوثيق الضرورية

**معايير الالتزام**
```bash
# استخدم تنسيق رسالة الالتزام المعياري
git commit -m "feat(module): إضافة وظيفة مفيدة جديدة

- إضافة وظيفة FormatDuration
- دعم تنسيقات إخراج وقت متعددة
- إضافة حالات اختبار شاملة
- تحديث التوثيق ذي الصلة

Closes #123"
```

**تنسيق رسالة الالتزام**:
```
<نوع>(<نطاق>): <موضوع>

<نص>

<تذييل>
```

**فئات النوع**:
- `feat`: ميزات جديدة
- `fix`: إصلاحات أخطاء  
- `docs`: تحديثات التوثيق
- `style`: تعديلات تنسيق الكود
- `refactor`: إعادة بناء الكود
- `perf`: تحسين الأداء
- `test`: متعلق بالاختبار
- `chore`: تحديثات أدوات البناء أو التبعيات

**نطاق النطاق** (اختياري):
- `candy`: وحدة candy
- `xtime`: وحدة xtime
- `config`: وحدة config
- `cryptox`: وحدة cryptox
- إلخ...

#### 3. الاختبار والتحقق

**تشغيل الاختبارات**
```bash
# تشغيل جميع الاختبارات
go test -v ./...

# فحص تغطية الاختبار
go test -cover -v ./...

# تشغيل اختبارات المعيار
go test -bench=. ./...

# فحص تنسيق الكود
go fmt ./...

# التحليل الثابت
go vet ./...
```

**اختبار الأداء**
```bash
# تشغيل اختبارات الأداء
go test -bench=BenchmarkYourFunction -benchmem ./...

# التأكد من عدم وجود تراجع كبير في الأداء
```

#### 4. إنشاء طلب سحب

**دفع إلى نسختك**
```bash
git push origin feature/your-awesome-feature
```

**إنشاء PR**
1. زيارة صفحة المشروع على GitHub
2. النقر على "New Pull Request"
3. اختيار فرعك
4. ملء وصف PR (انظر [قالب PR](#قالب-pr))
5. التأكد من نجاح جميع الفحوصات

#### 5. مراجعة الكود

- سيراجع المحافظون كودك
- قم بإجراء تعديلات بناءً على التعليقات
- حافظ على التواصل والموقف التعاوني
- سيتم الدمج بعد نجاح الاختبارات

## 📝 معايير الكود

### نمط كود Go

**المعايير الأساسية**
```go
// ✅ مثال جيد
package candy

import (
    "context"
    "fmt"
    "time"
    
    "github.com/lazygophers/log"
)

// FormatDuration تنسق مدة الوقت إلى نص قابل للقراءة البشرية
// تدعم مستويات دقة متعددة، تختار تلقائياً الوحدات المناسبة
//
// المعاملات:
//   - duration: مدة الوقت للتنسيق
//   - precision: مستوى الدقة (1-3)
//
// إرجاع:
//   - string: نص منسق، مثل "ساعتان 30 دقيقة"
//
// مثال:
//   FormatDuration(90*time.Minute, 2) // يُرجع "ساعة واحدة 30 دقيقة"
//   FormatDuration(45*time.Second, 1) // يُرجع "45 ثانية"
func FormatDuration(duration time.Duration, precision int) string {
    if duration == 0 {
        return "0 ثواني"
    }
    
    // منطق التنفيذ...
    return result
}
```

**اتفاقيات التسمية**
- استخدم CamelCase
- أسماء الوظائف تبدأ بأفعال: `Get`, `Set`, `Format`, `Parse`
- الثوابت تستخدم ALL_CAPS: `const MaxRetries = 3`
- الأعضاء الخاصة تستخدم أحرف صغيرة: `internalHelper`
- أسماء الحزم تستخدم كلمات مفردة صغيرة: `candy`, `xtime`

**معايير التعليقات**
- جميع الوظائف العامة يجب أن تحتوي على تعليقات
- التعليقات تبدأ باسم الوظيفة
- تتضمن أوصاف المعاملات وقيم الإرجاع  
- توفر أمثلة استخدام
- تعليقات باللغة الإنجليزية، موجزة وواضحة

**معالجة الأخطاء**
```go
// ✅ نهج معالجة الأخطاء الموصى به
func ProcessData(data []byte) (*Result, error) {
    if len(data) == 0 {
        log.Warn("تم توفير بيانات فارغة")
        return nil, fmt.Errorf("البيانات لا يمكن أن تكون فارغة")
    }
    
    result, err := parseData(data)
    if err != nil {
        log.Error("فشل في تحليل البيانات", log.Error(err))
        return nil, fmt.Errorf("فشل تحليل البيانات: %w", err)
    }
    
    return result, nil
}
```

### معايير هيكل المشروع

**تنظيم الوحدات**
```
utils/
├── README.md           # نظرة عامة على المشروع
├── CONTRIBUTING.md     # دليل المساهمة  
├── SECURITY.md        # سياسة الأمان
├── go.mod             # تعريف وحدة Go
├── must.go            # الوظائف المفيدة الأساسية
├── candy/             # أدوات معالجة البيانات
│   ├── README.md      # توثيق الوحدة
│   ├── to_string.go   # تحويل النوع
│   └── to_string_test.go
├── xtime/             # أدوات معالجة الوقت  
│   ├── README.md      # توثيق استخدام مفصل
│   ├── TESTING.md     # تقارير الاختبار
│   ├── PERFORMANCE.md # تقارير الأداء
│   ├── calendar.go    # وظائف التقويم
│   └── calendar_test.go
└── ...
```

**تسمية الملفات**
- استخدم أحرف صغيرة وشرطات سفلية: `to_string.go`
- لاحقة ملف الاختبار: `_test.go`
- اختبارات المعيار: `_benchmark_test.go`
- ملفات التوثيق: `README.md`, `TESTING.md`

### معايير الاختبار

**متطلبات تغطية الاختبار**
- تغطية اختبار الميزات الجديدة يجب أن تكون ≥ 90%
- لا يمكن تقليل تغطية الاختبار الإجمالية
- تتضمن حالات عادية وحالات حدية
- مسارات معالجة الأخطاء يجب اختبارها

**مثال اختبار**
```go
func TestFormatDuration(t *testing.T) {
    testCases := []struct {
        name      string
        duration  time.Duration
        precision int
        want      string
    }{
        {
            name:      "وقت صفر",
            duration:  0,
            precision: 1,
            want:      "0 ثواني",
        },
        {
            name:      "90 دقيقة دقة عالية",
            duration:  90 * time.Minute,
            precision: 2,
            want:      "ساعة واحدة 30 دقيقة",
        },
        // المزيد من حالات الاختبار...
    }
    
    for _, tc := range testCases {
        t.Run(tc.name, func(t *testing.T) {
            got := FormatDuration(tc.duration, tc.precision)
            assert.Equal(t, tc.want, got)
        })
    }
}

// اختبار معيار
func BenchmarkFormatDuration(b *testing.B) {
    duration := 90 * time.Minute
    
    b.ResetTimer()
    for i := 0; i < b.N; i++ {
        _ = FormatDuration(duration, 2)
    }
}
```

## 🎯 مجالات التطوير الرئيسية

### أولوية عالية

1. **تحسين وحدة xtime**
   - تحسين وظائف التقويم القمري والفصول الشمسية
   - تحسين الأداء
   - المزيد من الميزات الثقافية المحددة

2. **توسيع وحدة candy**  
   - وظائف تحويل النوع
   - أدوات معالجة البيانات
   - تحسين الأداء

3. **تحسين تغطية الاختبار**
   - الهدف: جميع الوحدات > 90%
   - إضافة حالات حدية
   - تحسين اختبارات الأداء

### أولوية متوسطة

4. **وحدات مفيدة جديدة**
   - وظائف مفيدة للذكاء الاصطناعي/التعلم الآلي
   - أدوات تكامل الخدمات السحابية
   - أدوات الخدمات المصغرة

5. **تحسين التوثيق**
   - توثيق مرجعي للواجهة البرمجية
   - دليل أفضل الممارسات
   - دليل تحسين الأداء

### المساهمات المرحب بها

- 🌏 **دعم متعدد اللغات** - توثيق إنجليزي، تدويل رسائل الخطأ
- 📊 **دعم المزيد من تنسيقات البيانات** - معالجة XML، YAML، TOML
- 🔧 **أدوات التطوير** - توليد الكود، إدارة التكوين
- 🎨 **أدوات UI/UX** - معالجة الألوان، إخراج منسق
- 🔐 **أدوات الأمان** - التشفير/فك التشفير، التحقق من التوقيع

## 📋 قالب PR

يرجى استخدام القالب التالي عند إنشاء PR:

```markdown
## وصف التغيير

وصف موجز لمحتوى وغرض هذا التغيير.

## نوع التغيير

- [ ] إصلاح خطأ
- [ ] ميزة جديدة
- [ ] تحديث توثيق
- [ ] تحسين أداء  
- [ ] إعادة بناء كود
- [ ] تحسين اختبار

## التغييرات المفصلة

### الميزات الجديدة
- إضافة وظيفة `FormatDuration`
- دعم مستويات دقة متعددة
- إضافة عرض وحدات الوقت بالصينية

### المشاكل المُصلحة  
- إصلاح خطأ تحويل المنطقة الزمنية (#123)
- حل مشكلة تسريب الذاكرة

### تحسين الأداء
- تحسين أداء ربط النصوص
- تقليل تخصيص الذاكرة بنسبة 30%

## وصف الاختبار

- [ ] جميع الاختبارات تنجح
- [ ] إضافة حالات اختبار جديدة
- [ ] تغطية الاختبار ≥ 90%
- [ ] اختبارات المعيار تنجح

**تغطية الاختبار**: 92.5%

## تحديثات التوثيق

- [ ] تحديث README.md
- [ ] إضافة تعليقات الوظائف
- [ ] تحديث كود المثال

## التوافق

- [ ] متوافق مع الإصدارات السابقة
- [ ] يتطلب ترقية إصدار (شرح السبب)
- [ ] تغييرات كاسرة (شرح مفصل)

## قائمة التحقق

- [ ] الكود يتبع معايير المشروع
- [ ] نجح فحص تنسيق `go fmt`
- [ ] نجح الفحص الثابت `go vet`
- [ ] جميع الاختبارات تنجح
- [ ] التوثيق محدث
- [ ] رسائل الالتزام تتبع المعايير

## المشاكل ذات الصلة

Closes #123
Refs #456

## لقطات الشاشة/العرض التوضيحي

قدم لقطات شاشة أو عروض توضيحية إذا لزم الأمر.
```

## 🐛 تقارير الأخطاء

وجدت خطأ؟ يرجى استخدام القالب التالي لإنشاء Issue:

```markdown
## وصف الخطأ

وصف موجز للمشكلة المواجهة.

## خطوات الإعادة

1. تنفيذ الخطوة 1
2. تنفيذ الخطوة 2  
3. ملاحظة النتيجة

## السلوك المتوقع

وصف السلوك الصحيح الذي تتوقع رؤيته.

## السلوك الفعلي

وصف السلوك الخاطئ الفعلي المُلاحَظ.

## معلومات البيئة

- **نظام التشغيل**: macOS 12.0
- **إصدار Go**: 1.24.0
- **إصدار Utils**: v1.2.0
- **معلومات أخرى ذات صلة**:

## سجلات الأخطاء

```
ألصق سجلات الأخطاء هنا
```

## مثال إعادة إنتاج أدنى

```go
package main

import (
    "github.com/lazygophers/utils/xtime"
)

func main() {
    // كود إعادة إنتاج الخطأ الأدنى
}
```
```

## ✨ طلبات الميزات

تريد ميزة جديدة؟ يرجى استخدام القالب التالي:

```markdown
## وصف الميزة

وصف الميزة التي تود إضافتها.

## حالات الاستخدام

وصف متى ستُستخدم هذه الميزة.

## تصميم API المقترح

```go
// توقيع الوظيفة المقترح والاستخدام
func NewAwesomeFunction(param string) (Result, error) {
    // ...
}
```

## الحلول البديلة

هل فكرت في حلول أخرى؟

## معلومات إضافية

معلومات أخرى ذات صلة أو مراجع.
```

## 🏆 تقدير المساهمين

### التقدير حسب نوع المساهمة

سنقدم تقديرات مختلفة بناءً على أنواع المساهمة:

- 🥇 **المساهمون الأساسيون** - نشطون على المدى الطويل، مساهمات ميزات مهمة
- 🥈 **المساهمون النشطون** - مساهمات قيمة متعددة  
- 🥉 **مساهمو المجتمع** - إصلاحات أخطاء، تحسينات توثيق
- 🌟 **المساهمون لأول مرة** - ترحيب بالمساهمات الأولى

### إحصائيات المساهمة

سنعرض المساهمين في الأماكن التالية:

- قائمة المساهمين README.md
- التقديرات في ملاحظات الإصدار
- موقع المشروع (إذا كان متاحاً)
- التقارير السنوية للمساهمين

## 💬 التواصل

### الحصول على المساعدة

- 📖 **مشاكل التوثيق**: تحقق من README.md لكل وحدة
- 🐛 **تقارير الأخطاء**: [GitHub Issues](https://github.com/lazygophers/utils/issues)
- 💡 **مناقشات الميزات**: [GitHub Discussions](https://github.com/lazygophers/utils/discussions)
- ❓ **أسئلة الاستخدام**: [GitHub Discussions Q&A](https://github.com/lazygophers/utils/discussions/categories/q-a)

### معايير المناقشة

يرجى اتباع معايير التواصل هذه:

- استخدم لغة ودية ومهنية
- قدم أوصاف مشاكل مفصلة واقتراحات
- قدم معلومات سياق كافية
- احترم وجهات النظر والآراء المختلفة
- شارك بنشاط في المناقشات البناءة

## 📜 الترخيص

هذا المشروع مرخص تحت [GNU Affero General Public License v3.0](LICENSE).

**المساهمة تعني الموافقة على**:
- أنك تملك حقوق الطبع والنشر للكود المقدم
- توافق على إصدار الكود تحت ترخيص AGPL v3.0
- تتبع مدونة قواعد السلوك للمساهمين في المشروع

## 🙏 التقديرات

شكراً لجميع المطورين الذين ساهموا في مشروع LazyGophers Utils!

**شكر خاص**:
- جميع المساهمين الذين قدموا Issues و PRs
- أعضاء المجتمع الذين قدموا اقتراحات وتعليقات
- المتطوعون الذين ساعدوا في تحسين التوثيق

---

**متاح بلغات أخرى:** [English](CONTRIBUTING.md) | [简体中文](CONTRIBUTING_zh.md) | [繁體中文](CONTRIBUTING_zh-Hant.md) | [Français](CONTRIBUTING_fr.md) | [Русский](CONTRIBUTING_ru.md) | [Español](CONTRIBUTING_es.md)

**Happy Coding! 🎉**

لا تتردد في الاتصال بفريق المحافظين في أي وقت إذا كان لديك أسئلة. نحن سعداء لمساعدتك في بدء رحلة مساهمتك!